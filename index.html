<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PR #2026: Merge Year-2025 into Main</title>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <style>
        :root {
            --bg-canvas: #010409; --bg-main: #0d1117; --bg-sidebar: #161b22;
            --border: #30363d; --text-primary: #e6edf3; --text-secondary: #7d8590;
            --gh-green: #238636; --gh-blue: #2f81f7; --gh-purple: #a371f7;
        }

        body {
            background-color: var(--bg-canvas); color: var(--text-primary);
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
            margin: 0; display: flex; height: 100vh; overflow: hidden;
        }

        /* --- Sidebar --- */
        .sidebar {
            width: 260px; background: var(--bg-sidebar); border-right: 1px solid var(--border);
            display: flex; flex-direction: column;
        }
        .sidebar-header { padding: 15px; font-size: 12px; font-weight: bold; color: var(--text-secondary); border-bottom: 1px solid var(--border); }
        .file-item { padding: 8px 15px; font-size: 13px; cursor: pointer; display: flex; align-items: center; gap: 8px; }
        .file-item:hover { background: #21262d; }

        /* --- Main Workspace --- */
        .main-view { flex: 1; display: flex; flex-direction: column; position: relative; }
        
        .pr-header {
            padding: 20px 30px; border-bottom: 1px solid var(--border); background: var(--bg-main);
        }
        .status-badge {
            background: #23863626; color: #3fb950; border: 1px solid #238636;
            padding: 2px 10px; border-radius: 20px; font-size: 12px; font-weight: 500;
        }

        .editor { flex: 1; padding: 30px; overflow-y: auto; background: var(--bg-main); }
        
        #countdown-timer {
            font-family: monospace; font-size: 5rem; font-weight: bold;
            color: var(--gh-green); margin: 20px 0; text-align: center;
        }

        /* --- Feature: Roadmap Checklist --- */
        .roadmap {
            background: #161b22; border: 1px solid var(--border); border-radius: 6px; padding: 20px;
            margin-top: 20px;
        }
        .roadmap-item { display: flex; align-items: center; gap: 10px; margin-bottom: 10px; border-bottom: 1px solid #30363d55; padding-bottom: 5px; }
        
        /* --- Controls --- */
        .controls {
            padding: 20px; background: var(--bg-sidebar); border-top: 1px solid var(--border);
            display: flex; gap: 15px; align-items: center;
        }
        .btn {
            padding: 8px 16px; border-radius: 6px; border: 1px solid var(--border);
            cursor: pointer; font-weight: 600; font-size: 14px; transition: 0.2s;
        }
        .btn-merge { background: var(--gh-purple); color: white; border: none; padding: 10px 20px; }
        .btn-merge:hover { background: #b083f9; box-shadow: 0 0 15px #a371f766; }

        input#resolutionInput {
            background: var(--bg-canvas); border: 1px solid var(--border);
            color: white; padding: 10px; border-radius: 6px; flex: 1;
        }

        /* --- Octocat --- */
        #octocat {
            position: absolute; bottom: 80px; right: 30px; width: 100px; transition: transform 0.1s;
        }
    </style>
</head>
<body>

    <div class="sidebar">
        <div class="sidebar-header">REPOSITORY EXPLORER</div>
        <div class="file-item">üìÅ .github/workflows</div>
        <div class="file-item">üìÅ src/happiness</div>
        <div class="file-item">üìÑ resolutions.md</div>
        <div class="file-item" style="color: var(--gh-blue)">üìÑ 2026_strategy.config</div>
        <div style="margin-top: auto; padding: 15px; border-top: 1px solid var(--border);">
            <div style="font-size: 11px; color: var(--text-secondary);">BUILD STATUS</div>
            <div style="color: var(--gh-green); font-size: 12px;">‚óè Optimization Active</div>
        </div>
    </div>

    <div class="main-view">
        <div class="pr-header">
            <div style="font-size: 20px; font-weight: 600;">
                Merge pull request #2026 from new-year/master <span class="status-badge">Open</span>
            </div>
            <div style="color: var(--text-secondary); margin-top: 5px;">
                <strong>Peerzada</strong> wants to merge 365 commits into <code>production</code> from <code>development-2025</code>
            </div>
        </div>

        <div class="editor">
            <div id="countdown-timer">00:00:00:00</div>
            
            <div class="roadmap">
                <h4 style="margin-top:0">üó∫Ô∏è 2026 Deployment Roadmap</h4>
                <div id="roadmapList">
                    <div class="roadmap-item"><span>‚úÖ</span> Initialize 2026 core modules</div>
                    <div class="roadmap-item"><span>‚úÖ</span> Cleanup legacy 2025 bugs</div>
                </div>
            </div>
        </div>

        <svg id="octocat" viewBox="0 0 250 250" fill="currentColor">
            <path d="M128.3,0C57.4,0,0,57.4,0,128.3c0,56.7,36.8,104.9,87.8,121.9c6.4,1.2,8.8-2.8,8.8-6.2c0-3.1-0.1-11.1-0.2-21.8 c-35.7,7.8-43.2-17.2-43.2-17.2c-5.8-14.8-14.2-18.8-14.2-18.8c-11.7-8,0.9-7.8,0.9-7.8c12.9,0.9,19.7,13.3,19.7,13.3 c11.5,19.6,30.1,14,37.4,10.7c1.2-8.3,4.5-14,8.1-17.2c-28.5-3.2-58.5-14.3-58.5-63.5c0-14,5-25.5,13.2-34.5 c-1.3-3.2-5.7-16.3,1.3-34c0,0,10.8-3.4,35.2,13.1c10.2-2.8,21.2-4.3,32.1-4.3c10.9,0,21.9,1.5,32.1,4.3 c24.4-16.6,35.2-13.1,35.2-13.1c7.1,17.7,2.6,30.8,1.3,34c8.2,9,13.2,20.5,13.2,34.5c0,49.3-30.1,60.2-58.7,63.4 c4.6,3.9,8.7,11.7,8.7,23.5c0,17-0.1,30.7-0.1,34.8c0,3.4,2.3,7.5,8.8,6.2C213.2,233.2,250,185,250,128.3C250,57.4,192.6,0,128.3,0z"></path>
        </svg>

        <div class="controls">
            <input type="text" id="resolutionInput" placeholder="Add a new resolution to the PR...">
            <button class="btn" style="background:#21262d; color:white" onclick="addRoadmapItem()">Add to Roadmap</button>
            <button class="btn btn-merge" onclick="launchMerge()">Confirm Merge to 2026</button>
        </div>
    </div>

<script>
    // --- Countdown ---
    function updateTimer() {
        const now = new Date();
        const target = new Date('January 1, 2026 00:00:00');
        const diff = target - now;
        
        if (diff <= 0) {
            document.getElementById('countdown-timer').innerText = "00:00:00:00";
            triggerMidnightConfetti();
            return;
        }

        const d = String(Math.floor(diff / (1000 * 60 * 60 * 24))).padStart(2, '0');
        const h = String(Math.floor((diff / (1000 * 60 * 60)) % 24)).padStart(2, '0');
        const m = String(Math.floor((diff / 1000 / 60) % 60)).padStart(2, '0');
        const s = String(Math.floor((diff / 1000) % 60)).padStart(2, '0');

        document.getElementById('countdown-timer').innerHTML = `<span style="color:var(--text-secondary)">${d}:</span>${h}:${m}:${s}`;
    }
    setInterval(updateTimer, 1000);

    // --- Roadmap & Persistence ---
    function addRoadmapItem() {
        const input = document.getElementById('resolutionInput');
        if (!input.value) return;

        const container = document.getElementById('roadmapList');
        const item = document.createElement('div');
        item.className = 'roadmap-item';
        item.innerHTML = `<span>üöÄ</span> ${input.value}`;
        container.appendChild(item);
        
        // Save to local storage
        const current = JSON.parse(localStorage.getItem('2026_road') || "[]");
        current.push(input.value);
        localStorage.setItem('2026_road', JSON.stringify(current));

        input.value = "";
        playTone(600, 0.1);
    }

    // --- Merge Animation ---
    function launchMerge() {
        confetti({
            particleCount: 150,
            spread: 70,
            origin: { y: 0.6 },
            colors: ['#238636', '#2f81f7', '#a371f7']
        });
        
        playTone(800, 0.2);
        const octo = document.getElementById('octocat');
        octo.style.transform = "scale(1.5) rotate(-20deg)";
        setTimeout(() => octo.style.transform = "scale(1)", 500);
    }

    function triggerMidnightConfetti() {
        var duration = 15 * 1000;
        var animationEnd = Date.now() + duration;
        var defaults = { startVelocity: 30, spread: 360, ticks: 60, zIndex: 0 };

        function randomInRange(min, max) { return Math.random() * (max - min) + min; }

        var interval = setInterval(function() {
            var timeLeft = animationEnd - Date.now();
            if (timeLeft <= 0) return clearInterval(interval);
            var particleCount = 50 * (timeLeft / duration);
            confetti(Object.assign({}, defaults, { particleCount, origin: { x: randomInRange(0.1, 0.3), y: Math.random() - 0.2 } }));
            confetti(Object.assign({}, defaults, { particleCount, origin: { x: randomInRange(0.7, 0.9), y: Math.random() - 0.2 } }));
        }, 250);
    }

    // --- Audio Feedback ---
    const ctx = new (window.AudioContext || window.webkitAudioContext)();
    function playTone(freq, dur) {
        const osc = ctx.createOscillator();
        const g = ctx.createGain();
        osc.connect(g); g.connect(ctx.destination);
        osc.frequency.value = freq;
        g.gain.setValueAtTime(0.1, ctx.currentTime);
        g.gain.exponentialRampToValueAtTime(0.0001, ctx.currentTime + dur);
        osc.start(); osc.stop(ctx.currentTime + dur);
    }

    // --- Mouse Octocat Follow ---
    document.addEventListener('mousemove', (e) => {
        const octo = document.getElementById('octocat');
        const x = (window.innerWidth / 2 - e.pageX) / 50;
        const y = (window.innerHeight / 2 - e.pageY) / 50;
        octo.style.transform = `translate(${x}px, ${y}px)`;
    });

    // Load saved roadmap
    window.onload = () => {
        const saved = JSON.parse(localStorage.getItem('2026_road') || "[]");
        saved.forEach(s => {
            const item = document.createElement('div');
            item.className = 'roadmap-item';
            item.innerHTML = `<span>üöÄ</span> ${s}`;
            document.getElementById('roadmapList').appendChild(item);
        });
    };
</script>
</body>
</html>
